<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <title>ЛР3 Задание 3</title>

        <meta charset="utf-8"> <!-- для корректного вывода русского языка -->

        <script type="text/javascript">
            /*
            Написать код программной модели стека
            */

            // на основе аналогичного задания по ОСА
            var size = parseInt(prompt("Вы давно не разбирали свою личную библиотеку и решили составить башню из книг, чтобы потом рассортировать их." + "\nВ башне книги лежат друг на друге, и, чтобы снять определённую книгу, нужно сначала снять все книги над ней."+"\n\nСколько максимально книг вы планируете положить в башню?")); // получение размера стека

            if (size <= 0) alert("Вы передумали перебирать книги. В конце концов, можно заняться этим завтра."); // если пользователь вдруг передумал работать с программой и ввёл число <= 0  -завершить работу

            else if (size > 0) { // если размер > 0

                var stack = new Array(); // задание стека (без фиксированного размера, так как он всё равно не проверяет переполнение стека)
                var choice, book; // переменные для ответов пользователя
                
                do {
                    choice = parseInt(prompt("Вы решили, что будете работать с башней максимум из " + size + " книг(и)." + "\nТекущая башня: " + stack + ". Размер башни: " + stack.length + "\n\nДля работы с башней доступны следующие команды: " + "\n 0 - добавить книгу в башню;" + "\n 1 - забрать книгу из башни;" + "\n 2 - завершить работу: ")); // вывод максимального размера стека, элементов стека, количества элементов в стеке; получение выбора пользователя
                    
                    switch(choice) {
                        case 0: // если пользователь ввёл 0
                            if (stack.length < size) { // если в стеке меньше элементов, чем максимальный размер
                                book = prompt("Вы решили положить книгу в башню." + "\n\nВведите название книги, которую хотите положить в башню: ", "Книга " + Math.floor(Math.random() * 100)); // получение элемента от пользователя либо сохранение случайного номера книги. случайное число в js всегда дробное на промежутке [0; 1), и, чтобы сделать случайное число от 0 до 99, нужно помножить полученное число на 100 и округлить
                                stack.push(book); // вставка элемента в конец стека
                                alert("Вы аккуратно кладёте книгу с названием \"" + book + "\" в башню."); // сообщение об успешной вставке
                            }
                            else alert("Вы решили положить книгу в башню." + "\nК сожалению, ваша башня уже слишком высокая, и вы откладываете книгу в сторону."); // если стек переполнен - сообщить пользователю о невозможности вставки (даже если сам js позволяет)

                            break;
                        case 1: // если пользователь ввёл 1
                            if (stack.length > 0) { // если стек не пустой
                                book = stack.pop(); // получение элемента из конца стека
                                alert("Вы решили забрать книгу с башни." + "\nСамая верхняя книга - \"" + book + "\". Вы снимаете её с башни и откладываете в сторону."); // вывод полученного элемента и сообщение об успехе
                            }
                            else alert("Вы решили забрать книгу с башни." + "\nК сожалению (или к радости) вы уже разобрали всю башню и в ней не осталось книг."); // если стек пустой - сообщить пользователю о невоможности забрать элемент
                            
                            break;
                        default: // если пользователь ввёл любое другое число - выход из свитча. если пользователь вввёл 2 - выход из цикла
                            break;
                    }
                }

                while (choice != 2);
                
                alert("Вы решили, что достаточно потрудились на сегодня, и отправились отдыхать."); // сообщение о завершении работы
            }

        </script>
    </head>

    <body>
    </body>
</html>